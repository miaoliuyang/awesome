
 # Python的数字类型
 
 在python中，数字并不是一个真正的对象类型，而是一组类似类型的分类。
 
 python数字类型的完整工具包括：
 
 - 整数和浮点数
 
 - 复数
 
 - 固定精度的十进制数
 
 - 有理分数
 
 - 集合
 
 - 布尔类型
 
 - 无穷的整数精度
 
 - 各种数字内置函数和模块


## 数字常量

在基本类型中，Python提供了：整数(正整数和负整数) 和 浮点数(带有小数部分的数字)。Python还允许使用十六进制、八进制和二进制常量来表示整数，提供一个复数类型，并且允许整数具有无穷的精度(只要内存空间允许，它可以增长成任意位数的数字).

数字|常量|
:---|--|
1234, -24, 0, 99999999999999|整数(无穷大小)|
1.23, 1.,3.14e-10, 4E210, 4.0e+210|浮点数|
0o177, 0x9ff, 0b101010|Python 3.0中的八进制,十六进制和二进制常量
3+4j, 3.0+4.0j, 3J|复数常量
 
### 整数和浮点数常量

整数以十进制数字的字符串写法出现。浮点数带一个小数点，也可以加上一个科学计数标志e或者E。如果编写一个带有小数点或冥的数字，Python会将它变成一个浮点数对象，并且当这个对象用在表达式中时，将启用浮点数(而不是整数)的运算法则。浮点数就像C语言中的双精度一样实现。

### Python 2.6中的整数： 一般整数和长整数

Python 2.6中有两种整数类型：一般整数(32位)和长整数(无穷精度), 并且一个整数可以以l或L结尾，从而强迫其成为长整数。由于当整数的值超过32位的时候会自动转换为长整数，不需要自己输入字母L, 当需要额外的精度的时候，Python会自动转换为长整数。

### Python3.0中的整数： 一个单独的类型

在Python3.0中，一般整数和长整数类型已经合二为一了，只有整数这一种，它自动地支持Python 2.6的单独的长整数类型所拥有的无穷精度。整数在程序中不再用末尾的l或L表示，并且整数也不再回显示出这个字符。

### 十六进制、八进制和二进制常量

十六进制以0x或0X开头，后面接十六进制的数字0~9和A~F。十六进制的数字编写成大写或小写都可以。

八进制常量以数字0o或0O开头，后面接着数字0~7构成的字符串。

二进制常量以0b或0B开头，后面跟着二进制数字0~1

所有这些常量在程序代码中都产生一个整数对象，它们仅仅是特定值的不同语法表示而已。

内置函数hex(I) oct(I)和bin(I) 把一个整数转换为这3种进制表示的字符串。并且int(str,base)根据每个给定的进制把一个运行时的字符串转换为一个整数。

### 复数

Python的复数常量写成实部+虚部的写法，这里虚部是以j或J结尾。其中，实部从技术上讲可有可无，所以可能会单独表示虚部。从内部看来，复数都是通过一对浮点数来表示的，但是对复数的所有的数字操作都会按照复数的运算法则进行。也可以通过内置函数complex(real,imag)来创建复数。

## 内置数学工具和扩展

表达式操作符 + - * / >> ** &

内置数学函数 pow abs round int hex bin

公用模块 random math

## Python表达式操作符

操作符|描述|
:---|--|
yield x|生成器函数发送协议|
lambda args: expression|生成匿名函数|
x if y else z|三元选择表达式|
x or y|逻辑或,只有x为假,才会计算y|
x and y|逻辑与,只有x为真,才会计算y|
not x|逻辑非|
x in y, x not in y|成员关系(可迭代对象,集合)|
x is y, x is not y|对象实体测试|
x < y, x <=y, x>y, x>=y, x==y, x!=y|大小比较,集合子集和超级值相等性操作符|
x | y|位或,集合并集|
x ^ y|位异或,集合对称差|
x & y|位与,集合交集|
x << y, x >> y|左移或右移y位|
x + y, x-y|加法/合并,减法,集合差集|
x * y, x % y, x / y, x // y|乘法/重复, 余数/格式化, 除法：真除法或floor除法|
-x, +x|一元减法, 识别|
~x|按位求补(取反)|
x ** y|冥运算|
x[i] |索引(序列,映射及其他) 点号取属性运算, 函数调用|
x[i:j:k] |分片|
x(...)|调用(函数, 方法, 类及其他可调用的)|
x.attr|属性引用|
(...)|元组, 表达式, 生成器表达式|
[...]|列表, 列表解析|
{...}|字典,集合,集合和字典解析|


### 操作符优先级

上表中操作符越靠后的优先级越高, 同一行的表达式在组合的时候通常从左到右组合(除了冥运算,它是从右向左组合的,还有比较运算,是从左到右连接的)

### 混合类型自动升级

除了在表达式中混合操作符以外,也能够混合数字的类型。在混合类型的表达式中，Python首先将被操作的对象转换成其中最复杂的操作对象的类型，然后再对相同类型的操作对象进行数学运算。整数比浮点数简单,浮点数比复数简单。

可以通过手动调用内置函数来强制转换类型
```
>>> int(3.1415)
>>> float(3)

```

这些混合类型转换仅仅在将数字类型混合到一个表达式中的时候才适用。一般来说，Python不会在其他的类型之间进行转换。例如一个字符串和一个整数相加，会产生错误，除非你手动转换其中某个的类型。


## 在实际应用中的数学

**str和repr显示格式**

从技术上来说,默认的交互模式回显和打印的区别就相当于内置repr和str函数的区别
```
>>> repr(1/3) # used by echoes:as-code form
>>> str(1/3)  # used by print:user-friendly form
```

这两个函数都会把任意对象变换成它们的字符串表示: repr(也就是默认的交互模式回显)产生的结果看起来就好像它们是代码。str(也就是打印语句)转变为一种通常对用户更加友好的格式。一些对象两种方式都有:str用于一般用途,repr用于额外细节。

除了为任意对象提供打印字符串,str内置函数也是字符串数据类型的名字,并且能够用一个编码的名字来调用,从而从一个字节字符串解码一个Unicode字符串。

### 变量和基本的表达式

- 变量在它第一次赋值时创建

- 变量在表达式中使用以前必须已赋值

- 变量像对象一样不需要在一开始进行声明

### 数字显示的格式

### 比较:一般的和连续的

返回一个布尔类型(True/False)的结果
```
>>> 1 < 2
>>> 2.0 >= 1
>>> 2.0 == 2.0
>>> 2.0 != 2.0
>>> 2 < 4 < 6
>>> 2 < 4 and 4 < 6
```

